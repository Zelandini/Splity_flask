{% extends "base.html" %}

{% block content %}
    {% if current_user.is_authenticated %}
        <h1>Your Dashboard</h1>
        <p class="page-intro">Welcome back, {{ current_user.name }}. Manage your group expenses below.</p>

        <div class="button-row">
            <a href="{{ url_for('home.create_group') }}" class="btn btn-primary">Create New Group</a>
            <a href="{{ url_for('home.join_group') }}" class="btn btn-secondary">Join Existing Group</a>
        </div>

        <h2>Active Groups</h2>
        {% if groups %}
            <ul>
            {% for group in groups %}
                <li>
                    <div class="list-row">
                        <div>
                            <strong>{{ group.name }}</strong>
                            <span class="list-meta">CODE: {{ group.invite_code }}</span>
                        </div>
                        <a href="{{ url_for('home.group_details', group_id=group.id) }}" class="btn btn-primary btn-small">Open Group</a>
                    </div>
                </li>
            {% endfor %}
            </ul>
        {% else %}
            <p>You are not currently in any groups.</p>
        {% endif %}
    {% else %}
        <h1>Welcome to Splity.</h1>
        <p class="page-intro">Modern. Rigid. Transparent. The professional way to split costs.</p>
        <div class="button-row">
            <a href="{{ url_for('authentication.login') }}" class="btn btn-primary">Login Now</a>
            <a href="{{ url_for('authentication.register') }}" class="btn btn-secondary">Sign Up</a>
        </div>
    {% endif %}
{% endblock %}
